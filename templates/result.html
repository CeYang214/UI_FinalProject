{% extends "base.html" %}

{% block content %}
<div class="results-container">
    <h1 class="text-center mb-4">Your Quiz Results</h1>
    
    <div class="score-display text-center mb-5">
        <div class="score-circle mx-auto">
            <div class="score-number">{{ score }}/{{ total }}</div>
            <div class="score-percent">{{ (score / total * 100) | round }}%</div>
        </div>
    </div>
    
    <div class="results-message text-center mb-4">
        <h2 class="results-header">
        {% if score == total %}
            Perfect Score!
        {% elif score >= total * 0.8 %}
            Great Job!
        {% elif score >= total * 0.6 %}
            Well Done!
        {% elif score >= total * 0.4 %}
            Not Bad!
        {% else %}
            Keep Learning!
        {% endif %}
        </h2>
        
        <p class="results-message">
        {% if score == total %}
            You're a coffee origin expert! Your knowledge of coffee flavors is exceptional.
        {% elif score >= total * 0.8 %}
            You have an excellent understanding of coffee origins and their flavor profiles.
        {% elif score >= total * 0.6 %}
            You have a good grasp of coffee origins. A little more practice and you'll be an expert!
        {% elif score >= total * 0.4 %}
            You're on your way to understanding coffee origins. Keep learning!
        {% else %}
            Coffee origins can be complex. Review the information and try again!
        {% endif %}
        </p>
    </div>
    
    <!-- Display coffee icons for all types -->
    <div class="coffee-icons-collection text-center mb-4">
        <div class="row justify-content-center">
            <div class="col-3 col-md-2">
                <div class="coffee-type-box">
                    <img src="/static/images/coffe_cup_black.png" alt="Ethiopian Coffee" style="width: 80px; height: auto;">
                    <p>Ethiopian</p>
                </div>
            </div>
            <div class="col-3 col-md-2">
                <div class="coffee-type-box">
                    <img src="/static/images/coffe_cup_blue.png" alt="Colombian Coffee" style="width: 80px; height: auto;">
                    <p>Colombian</p>
                </div>
            </div>
            <div class="col-3 col-md-2">
                <div class="coffee-type-box">
                    <img src="/static/images/coffe_cup_brown.png" alt="Sumatran Coffee" style="width: 80px; height: auto;">
                    <p>Sumatran</p>
                </div>
            </div>
            <div class="col-3 col-md-2">
                <div class="coffee-type-box">
                    <img src="/static/images/coffe_cup_yellow.png" alt="Kenyan Coffee" style="width: 80px; height: auto;">
                    <p>Kenyan</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="action-buttons text-center">
        <a href="{{ url_for('learn', lesson_id=1) }}" class="btn btn-secondary mr-2">Review Guide</a>
        <a href="{{ url_for('quiz', question_id=1) }}" class="btn btn-primary">Try Again</a>
    </div>
</div>

<!--include the quiz.js script for score display -->
<script src="{{ url_for('static', filename='quiz.js') }}"></script>
{% endblock %}